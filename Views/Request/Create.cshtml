@model AspnetCoreMvcStarter.Models.Request

@{
  ViewData["Title"] = "Create Request";
}

<h2>Create Request</h2>

<div class="row">
  <div class="col-md-8">
    <form asp-action="Create">
      <div asp-validation-summary="ModelOnly" class="text-danger"></div>

      <!-- Requestor -->
      <div class="mb-3">
        <label asp-for="RequestorId" class="form-label">Requestor</label>
        <select asp-for="RequestorId" class="form-select" asp-items="ViewBag.Users" required>
          <option value="">-- Select Requestor --</option>
        </select>
        <span asp-validation-for="RequestorId" class="text-danger"></span>
      </div>

      <!-- Facility -->
      <div class="mb-3">
        <label asp-for="FacilityId" class="form-label">Facility</label>
        <select asp-for="FacilityId" class="form-select" asp-items="ViewBag.Facilities" required>
          <option value="">-- Select Facility --</option>
        </select>
        <span asp-validation-for="FacilityId" class="text-danger"></span>
      </div>

      <!-- Facility Item (Optional) -->
      <div class="mb-3">
        <label asp-for="ItemId" class="form-label">Facility Item (Optional)</label>
        <select asp-for="ItemId" class="form-select" asp-items="ViewBag.FacilityItems">
          <option value="">-- Select Item --</option>
        </select>
        <span asp-validation-for="ItemId" class="text-danger"></span>
      </div>

      <!-- Quantity Requested -->
      <div class="mb-3">
        <label asp-for="QuantityRequested" class="form-label">Quantity Requested</label>
        <input asp-for="QuantityRequested" class="form-control" type="number" min="1" required />
        <span asp-validation-for="QuantityRequested" class="text-danger"></span>
      </div>

      <!-- Severity Level -->
      <div class="mb-3">
        <label asp-for="SeverityLevel" class="form-label">Severity Level</label>
        <select asp-for="SeverityLevel" class="form-select" required>
          <option value="">-- Select Severity --</option>
          <option value="Low">Low</option>
          <option value="Medium">Medium</option>
          <option value="High">High</option>
        </select>
        <span asp-validation-for="SeverityLevel" class="text-danger"></span>
      </div>

      <!-- Description -->
      <div class="mb-3">
        <label asp-for="Description" class="form-label">Description</label>
        <textarea asp-for="Description" class="form-control" rows="3" required></textarea>
        <span asp-validation-for="Description" class="text-danger"></span>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary">Submit Request</button>
      <a asp-action="Index" class="btn btn-secondary">Cancel</a>
    </form>
  </div>
</div>


@{ await Html.RenderPartialAsync("_ValidationScriptsPartial"); }

